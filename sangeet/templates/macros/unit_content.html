<!-- row of a track for user, admin and creators all. A block which will contain extra funcionality for a user has to be overridden -->

{% macro row_of_track(track, current_user, role_specific_actions) %}
<div class="row gap-3 justify-content-evenly align-items-center p-1 m-1 bg-success-subtle rounded-2">
    <a class="col-sm-3 text-decoration-none text-dark" href="/music/track/{{track.id}}">
        <div class="">
            {{ track.name }}
        </div>
        <!-- Player for the track -->
    </a>
    <audio class="col-3" style="height: 30px;" controls>
        <source src="{{ url_for('static', filename=track.file_name) }}" type="audio/mp3">
    </audio>
    <!-- for collecting the rating of the song -->
    <form class="col" action="#">
        <div class="hstack gap-1">
            <select class="col btn btn-sm btn-secondary" name="rating" id="rating">
                <option value="">?</option>
                {% for i in range(1, 6) %}
                <option value="{{i}}">{{i}} *</option>
                {% endfor %}
            </select>
            <input class="btn btn-sm btn-primary" formaction="/user/rating" type="submit" value="Rate">
        </div>
    </form>
    <!-- for adding the song to a specific playlist -->
    <form class="col hstack gap-1">
        <!-- <div class="col hstack gap-1"> -->
        <select class="btn btn-sm btn-secondary" name="add_to_playlist" id="add_to_playlist">
            <option value="Add to Playlist">Choose Playlist</option>
            {% for playlist in current_user.playlists %}
                <option value="{{playlist}}">{{playlist.name}}</option>
            {% endfor %}
        </select>
        <input class="btn btn-sm btn-primary" formaction="/user/add_to_playlist" type="submit" value="Add">
    </form>
    <!-- Admin or Creator specific actions -->
    <form class="col hstack gap-1">
        {% include 'includes/creator/creator_track_actions.html' %}
    </form>    
</div>

{% endmacro %}





<!-- Row of an Album for an user -->

{% macro user_row_of_album(track, current_user) %}
<div class="row gap-3 justify-content-evenly align-items-center p-2 m-2 bg-success-subtle rounded-2">
    <div class="col lead">
        {{ track.name }}
    </div>
    <div class="col">
        <form class="hstack gap-3" action="#">
            <!-- Player for the song -->
            <audio id="player"src="#"></audio>
            <div>
                <div class="hstack gap-1 justify-content-evenly align-items-center">
                    <button class="btn btn-sm btn-outline-success" onclick="document.getElementById('player').play(); "document.getElementById('player').('hello')"">Play</button>
                    <button class="btn btn-sm btn-outline-success" onclick="document.getElementById('player').pause()">Pause</button>
                    <button class="btn btn-sm btn-outline-success" onclick="document.getElementById('player').muted=!document.getElementById('player').muted">Lyrics</button>
                </div>            
            </div>    
            <!-- for collecting the rating of the song -->
            <div class="hstack gap-1">
                <select class="col btn btn-sm btn-secondary" name="rating" id="rating">
                    <option value="">?</option>
                    {% for i in range(1, 6) %}
                    <option value="{{i}}">{{i}} *</option>
                    {% endfor %}
                </select>
                <input class="btn btn-sm btn-primary" formaction="/user/rating" type="submit" value="Rate">
            </div>
            <!-- for adding the song to a specific playlist -->
            <div class="col hstack gap-1">
                <select class="btn btn-sm btn-secondary" name="add_to_playlist" id="add_to_playlist">
                    <option value="Add to Playlist">Choose Playlist</option>
                    {% for playlist in current_user.playlists %}
                        <option value="{{playlist}}">{{playlist.name}}</option>
                    {% endfor %}
                </select>
                <input class="btn btn-sm btn-primary" formaction="/user/add_to_playlist" type="submit" value="Add">
            </div>
        </form>    
    </div>
</div>

{% endmacro %}





<!-- Row of a Playlist for a user-->

{% macro user_row_of_playlist(song, current_user) %}
<div class="row gap-3 justify-content-evenly align-items-center p-2 m-2 bg-success-subtle rounded-2">
    <div class="col lead">
        {{ song.name }}
    </div>
    <div class="col">
        <form class="hstack gap-3" action="#">
            <!-- Player for the song -->
            <audio id="player"src="#"></audio>
            <div>
                <div class="hstack gap-1 justify-content-evenly align-items-center">
                    <button class="btn btn-sm btn-outline-success" onclick="document.getElementById('player').play(); "document.getElementById('player').('hello')"">Play</button>
                    <button class="btn btn-sm btn-outline-success" onclick="document.getElementById('player').pause()">Pause</button>
                    <button class="btn btn-sm btn-outline-success" onclick="document.getElementById('player').muted=!document.getElementById('player').muted">Lyrics</button>
                </div>            
            </div>    
            <!-- for collecting the rating of the song -->
            <div class="hstack gap-1">
                <select class="col btn btn-sm btn-secondary" name="rating" id="rating">
                    <option value="">?</option>
                    {% for i in range(1, 6) %}
                    <option value="{{i}}">{{i}} *</option>
                    {% endfor %}
                </select>
                <input class="btn btn-sm btn-primary" formaction="/user/rating" type="submit" value="Rate">
            </div>
            <!-- for adding the song to a specific playlist -->
            <div class="col hstack gap-1">
                <select class="btn btn-sm btn-secondary" name="add_to_playlist" id="add_to_playlist">
                    <option value="Add to Playlist">Choose Playlist</option>
                    {% for playlist in current_user.playlists %}
                        <option value="{{playlist}}">{{playlist.name}}</option>
                    {% endfor %}
                </select>
                <input class="btn btn-sm btn-primary" formaction="/user/add_to_playlist" type="submit" value="Add">
            </div>
        </form>    
    </div>
</div>

{% endmacro %}




